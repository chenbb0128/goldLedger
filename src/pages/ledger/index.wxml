<view class="container bg-black min-h-screen text-white">
  <!-- æœˆä»½é€‰æ‹©å™¨ -->
  <view class="p-4 flex justify-between items-center">
    <view class="text-xl">2025å¹´3æœˆ</view>
    <t-icon name="calendar" size="48rpx" bind:tap="showDatePicker" />
  </view>

  <!-- æœˆåº¦ç»Ÿè®¡ -->
  <view class="p-4 bg-gray-900">
    <view class="grid grid-cols-3 gap-4">
      <view class="text-center">
        <view class="text-gray-400">æœ¬æœˆæ”¯å‡º</view>
        <view class="text-xl mt-2">Â¥{{monthlyExpense}}</view>
      </view>
      <view class="text-center">
        <view class="text-gray-400">æœ¬æœˆæ”¶å…¥</view>
        <view class="text-xl mt-2">Â¥{{monthlyIncome}}</view>
      </view>
      <view class="text-center">
        <view class="text-gray-400">æœ¬æœˆç»“ä½™</view>
        <view class="text-xl mt-2">Â¥{{monthlyBalance}}</view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·è®°è´¦ -->
  <view class="p-4">
    <view class="grid grid-cols-5 gap-4">
      <view wx:for="{{categories}}" wx:key="id" class="text-center" bindtap="onQuickAdd" data-category="{{item.id}}">
        <view class="w-12 h-12 rounded-full bg-gray-800 mx-auto flex items-center justify-center">
          <t-icon name="{{item.icon}}" size="48rpx" />
        </view>
        <view class="text-sm mt-2">{{item.name}}</view>
      </view>
    </view>
  </view>

  <!-- è´¦å•åˆ—è¡¨ -->
  <view class="flex-1 p-4">
    <block wx:if="{{bills.length > 0}}">
      <view wx:for="{{bills}}" wx:key="id" class="mb-4">
        <!-- æ—¥æœŸåˆ†ç»„ -->
        <view class="text-sm text-gray-400 mb-2">{{item.date}}</view>
        <!-- è´¦å•é¡¹ -->
        <view wx:for="{{item.items}}" wx:key="id" wx:for-item="bill" 
          class="flex items-center bg-gray-900 p-4 rounded-lg mb-2">
          <view class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center">
            <t-icon name="{{bill.icon}}" size="40rpx" />
          </view>
          <view class="flex-1 ml-4">
            <view class="text-base">{{bill.category}}</view>
            <view class="text-sm text-gray-400">{{bill.time}}</view>
          </view>
          <view class="text-lg {{bill.type === 'expense' ? 'text-red-400' : 'text-green-400'}}">
            {{bill.type === 'expense' ? '-' : '+'}}Â¥{{bill.amount}}
          </view>
        </view>
      </view>
    </block>
    <view wx:else class="text-center text-gray-400 mt-8">
      <view class="text-6xl mb-4">ğŸ“</view>
      <view>å½“å‰æœˆä»½æš‚æ— è®°è´¦</view>
      <view class="mt-4">
        <t-button theme="primary" size="large" class="bg-yellow-400" bindtap="onQuickAdd">
          è®°ä¸€ç¬”
        </t-button>
      </view>
    </view>
  </view>

  <!-- æœˆä»½é€‰æ‹©å™¨å¼¹çª— -->
  <t-date-picker
    visible="{{dateVisible}}"
    mode="month"
    value="{{currentDate}}"
    title="é€‰æ‹©æœˆä»½"
    bindconfirm="onDateConfirm"
    bindcancel="onDateCancel"
  />
</view> 